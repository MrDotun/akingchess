<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AKING Lessons | Grandmaster Path</title>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@700&family=Poppins:wght@400;600&display=swap" rel="stylesheet">
    <style>
        :root { --green: #064e3b; --gold: #fbbf24; --dark: #022c22; --white: #ffffff; }
        body { font-family: 'Poppins', sans-serif; background: var(--green); color: var(--white); margin: 0; padding-bottom: 50px; }
        
        .container { max-width: 800px; margin: 30px auto; padding: 25px; background: var(--white); color: #333; border-radius: 20px; border: 4px solid var(--gold); }
        h1, h2 { font-family: 'Cinzel'; color: var(--green); text-align: center; margin-top: 0; }
        
        /* Navigation Array */
        .grade-nav { display: flex; justify-content: center; gap: 10px; margin-bottom: 20px; flex-wrap: wrap; }
        .lesson-nav { display: flex; justify-content: center; gap: 8px; margin-bottom: 30px; }
        
        .btn { padding: 10px 15px; border-radius: 8px; border: none; cursor: pointer; font-weight: bold; transition: 0.3s; }
        .btn-grade { background: var(--dark); color: var(--gold); }
        .btn-lesson { background: #ddd; color: #333; }
        .active { background: var(--gold) !important; color: var(--dark) !important; transform: scale(1.1); }

        /* The Board */
        .board-visual { width: 320px; height: 320px; margin: 0 auto 20px; border: 6px solid var(--dark); border-radius: 8px; background-size: cover; box-shadow: 0 8px 20px rgba(0,0,0,0.3); }
        
        .lesson-text { background: #fdf6e3; padding: 20px; border-radius: 10px; border-left: 6px solid var(--green); line-height: 1.6; font-size: 1.1rem; }

        /* Assignment Styles */
        .quiz-container { display: none; margin-top: 20px; padding: 20px; background: #f0f0f0; border-radius: 15px; border: 2px dashed var(--green); }
        .opt-btn { display: block; width: 100%; padding: 15px; margin: 10px 0; border: 2px solid #ccc; border-radius: 10px; cursor: pointer; font-size: 1rem; text-align: left; background: white; transition: 0.2s; }
        .correct { background: #d4edda !important; border-color: #28a745 !important; }
        .wrong { background: #f8d7da !important; border-color: #dc3545 !important; }

        .submit-wa { display: none; width: 100%; background: #25D366; color: white; padding: 20px; border: none; border-radius: 10px; font-weight: bold; font-size: 1.2rem; cursor: pointer; margin-top: 20px; }
    </style>
</head>
<body>

<div class="container">
    <h1>AKING Academy</h1>
    
    <div class="grade-nav">
        <button class="btn btn-grade active" onclick="changeGrade(1, this)">Grade 1</button>
        <button class="btn btn-grade" onclick="changeGrade(2, this)">Grade 2</button>
        <button class="btn btn-grade" onclick="changeGrade(3, this)">Grade 3</button>
        <button class="btn btn-grade" onclick="changeGrade(4, this)">Grade 4</button>
        <button class="btn btn-grade" onclick="changeGrade(5, this)">Grade 5</button>
        <button class="btn btn-grade" onclick="changeGrade(6, this)">Grade 6</button>
    </div>

    <div class="lesson-nav">
        <button class="btn btn-lesson active" onclick="changeLesson(1, this)">L1</button>
        <button class="btn btn-lesson" onclick="changeLesson(2, this)">L2</button>
        <button class="btn btn-lesson" onclick="changeLesson(3, this)">L3</button>
        <button class="btn btn-lesson" onclick="changeLesson(4, this)">L4</button>
        <button class="btn btn-lesson" onclick="changeLesson(5, this)">L5</button>
    </div>

    <div id="lesson-view">
        <h2 id="title">The King</h2>
        <div id="board" class="board-visual" style="background-image: url('https://upload.wikimedia.org/wikipedia/commons/d/d5/Chess_Board_Annotated.svg');"></div>
        <div class="lesson-text" id="text">Loading lesson...</div>
        <button class="btn" style="background: var(--green); color: var(--gold); width: 100%; margin-top: 20px; padding: 15px;" onclick="startAssignment()">Take Assignment</button>
    </div>

    <div id="quiz-view" class="quiz-container">
        <h2>Assignment</h2>
        <p id="question" style="font-weight: bold;"></p>
        <div id="options"></div>
        <div id="result" style="text-align:center; font-weight:bold; margin-top:15px;"></div>
        <button id="waBtn" class="submit-wa" onclick="submitToAkan()">Submit to Mr. Akan ðŸ“²</button>
    </div>
</div>

<script>
    let grade = 1;
    let lessonNum = 1;
    let lastScore = 0;

    const data = {
        "1-1": { t: "The King", b: "board_king.png", txt: "The King is the leader! He moves only 1 square in any direction. Protect him at all costs.", q: "How many squares can a King move?", c: "1 Square", o: ["1 Square", "3 Squares", "10 Squares"] },
        "1-2": { t: "The Pawn", b: "board_pawn.png", txt: "Pawns move forward 1 step, but capture diagonally! They are brave soldiers.", q: "How do Pawns capture?", c: "Diagonally", o: ["Straight", "Diagonally", "Backwards"] },
        "4-1": { t: "Scholar's Mate", b: "board_f7.png", txt: "The f7 square is very weak! Only the King defends it. If a Queen reaches f7, it could be Checkmate.", q: "Which square is the weakest in the opening?", c: "f7", o: ["f7", "e4", "a1"] },
        // ... more lessons follow same format
    };

    function changeGrade(g, btn) {
        grade = g;
        document.querySelectorAll('.btn-grade').forEach(b => b.classList.remove('active'));
        btn.classList.add('active');
        updateUI();
    }

    function changeLesson(l, btn) {
        lessonNum = l;
        document.querySelectorAll('.btn-lesson').forEach(b => b.classList.remove('active'));
        btn.classList.add('active');
        updateUI();
    }

    function updateUI() {
        const key = `${grade}-${lessonNum}`;
        const item = data[key] || { t: "Coming Soon", txt: "Mr. Akan is preparing this lesson!", q: "Are you ready?", c: "Yes", o: ["Yes", "No"] };
        
        document.getElementById('title').innerText = item.t;
        document.getElementById('text').innerText = item.txt;
        document.getElementById('lesson-view').style.display = 'block';
        document.getElementById('quiz-view').style.display = 'none';
    }

    function startAssignment() {
        const item = data[`${grade}-${lessonNum}`];
        document.getElementById('lesson-view').style.display = 'none';
        document.getElementById('quiz-view').style.display = 'block';
        document.getElementById('question').innerText = item.q;
        document.getElementById('waBtn').style.display = 'none';
        document.getElementById('result').innerText = "";
        
        const opts = [...item.o].sort(() => Math.random() - 0.5);
        const container = document.getElementById('options');
        container.innerHTML = "";
        
        opts.forEach(o => {
            const b = document.createElement('button');
            b.className = 'opt-btn';
            b.innerText = o;
            b.onclick = () => {
                document.querySelectorAll('.opt-btn').forEach(btn => btn.onclick = null);
                if(o === item.c) {
                    b.classList.add('correct');
                    document.getElementById('result').innerText = "Correct! Well Done.";
                    lastScore = 100;
                } else {
                    b.classList.add('wrong');
                    document.getElementById('result').innerText = "Wrong! Answer: " + item.c;
                    lastScore = 0;
                }
                document.getElementById('waBtn').style.display = 'block';
            };
            container.appendChild(b);
        });
    }

    function submitToAkan() {
        const name = prompt("Enter Child's Name:");
        if(!name) return;
        const msg = `AKING REPORT%0AName: ${name}%0AGrade: ${grade}%0ALesson: ${lessonNum}%0AScore: ${lastScore}/100`;
        window.open(`https://wa.me/2348108020946?text=${msg}`);
    }

    updateUI();
</script>
</body>
</html>
